{
  "name": "keypad-store",
  "private": true,
  "packageManager": "pnpm@10.28.2",
  "scripts": {
    "dev": "pnpm -r --parallel --filter ./apps/backend --filter ./apps/storefront dev",
    "dev:all": "concurrently -n BACKEND,STOREFRONT -c cyan,magenta \"pnpm run dev:backend\" \"pnpm run dev:storefront\"",
    "dev:storefront": "pnpm -C apps/storefront dev --port 3001",
    "dev:infra": "docker compose -f infra/docker-compose.dev.yml -p vendure-dev up -d",
    "ports:free": "node -e \"const {execSync}=require('child_process'); try{execSync('lsof -t -iTCP:3000 -sTCP:LISTEN | xargs -r kill -9',{stdio:'inherit',shell:true});}catch(e){}\"",
    "build": "pnpm --filter ./apps/storefront build",
    "lint": "pnpm -r lint",
    "lint:storefront": "pnpm --filter ./apps/storefront lint",
    "typecheck": "pnpm -r typecheck",
    "test": "pnpm -r test",
    "infra:up": "docker compose --env-file infra/.env.dev -f infra/docker-compose.dev.yml -p vendure-dev up -d",
    "infra:down": "docker compose -f infra/docker-compose.dev.yml -p vendure-dev down",
    "infra:ps": "docker compose --env-file infra/.env.dev -f infra/docker-compose.dev.yml -p vendure-dev ps",
    "dev:backend": "pnpm -C apps/backend dev",
    "dev:reset": "pnpm run infra:down && pnpm run dev:infra && pnpm run ports:free && pnpm run dev:backend",
    "smoke:backend": "curl -fsS http://localhost:3000/health >/dev/null && echo \"backend health ok\"",
    "smoke:auth": "curl -sS -H \"Content-Type: application/json\" -d '{\"query\":\"mutation { login(username:\\\"superadmin\\\", password:\\\"superadmin\\\", rememberMe:true) { __typename ... on CurrentUser { id identifier } ... on ErrorResult { errorCode message } } }\"}' http://localhost:3000/admin-api | rg \"CurrentUser\" && echo \"admin login ok\"",
    "smoke:storefront": "curl -I http://localhost:3001/ | head -n 5 && curl -I http://localhost:3001/shop | head -n 5 && curl -I http://localhost:3001/configurator | head -n 5"
  },
  "devDependencies": {
    "@types/node": "^24.10.9",
    "ts-node": "^10.9.2",
    "ts-node-dev": "^2.0.0",
    "typescript": "^5.9.3",
    "concurrently": "9.2.1"
  },
  "dependencies": {
    "geist": "^1.7.0"
  }
}
