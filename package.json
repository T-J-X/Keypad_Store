{
  "name": "keypad-store",
  "private": true,
  "packageManager": "pnpm@10.28.2",
  "scripts": {
    "dev": "pnpm run dev:all",
    "dev:all": "concurrently -n BACKEND,FRONTEND -c cyan,magenta \"pnpm run dev:backend\" \"pnpm run dev:storefront:wait\"",
    "dev:storefront": "pnpm -C apps/frontend dev --port 3001",
    "dev:storefront:wait": "sh -c 'until curl -sf http://localhost:3000/health >/dev/null; do sleep 1; done; pnpm run dev:storefront'",
    "dev:infra": "pnpm run infra:up",
    "ports:free": "node -e \"const {execSync}=require('child_process'); try{execSync('lsof -t -iTCP:3000 -sTCP:LISTEN | xargs -r kill -9',{stdio:'inherit',shell:true});}catch(e){}\"",
    "build": "pnpm --filter ./apps/frontend build",
    "lint": "pnpm -r lint",
    "lint:storefront": "pnpm --filter ./apps/frontend lint",
    "typecheck": "pnpm -r typecheck",
    "test": "pnpm -r test",
    "infra:pull": "docker compose -f infra/docker-compose.dev.yml -p vendure-dev pull",
    "infra:up": "docker compose -f infra/docker-compose.dev.yml -p vendure-dev up -d",
    "infra:down": "docker compose -f infra/docker-compose.dev.yml -p vendure-dev down",
    "infra:ps": "docker compose -f infra/docker-compose.dev.yml -p vendure-dev ps",
    "infra:reset": "docker compose -f infra/docker-compose.dev.yml -p vendure-dev down -v && docker compose -f infra/docker-compose.dev.yml -p vendure-dev up -d",
    "dev:backend": "pnpm -C apps/backend dev",
    "dev:reset": "pnpm run infra:down && pnpm run infra:up && pnpm run ports:free && pnpm run dev:backend",
    "smoke:backend": "curl -fsS http://localhost:3000/health >/dev/null && echo \"backend health ok\"",
    "smoke:auth": "curl -sS -H \"Content-Type: application/json\" -d '{\"query\":\"mutation { login(username:\\\"superadmin\\\", password:\\\"superadmin\\\", rememberMe:true) { __typename ... on CurrentUser { id identifier } ... on ErrorResult { errorCode message } } }\"}' http://localhost:3000/admin-api | rg \"CurrentUser\" && echo \"admin login ok\"",
    "smoke:storefront": "curl -I http://localhost:3001/ | head -n 5 && curl -I http://localhost:3001/shop | head -n 5 && curl -I http://localhost:3001/configurator | head -n 5"
  },
  "devDependencies": {
    "@types/node": "^25.3.0",
    "concurrently": "9.2.1",
    "ts-node": "^10.9.2",
    "ts-node-dev": "^2.0.0",
    "typescript": "^5.9.3"
  },
  "dependencies": {
    "geist": "^1.7.0"
  },
  "pnpm": {
    "overrides": {
      "@apollo/server": "^4.13.0",
      "ajv@^6.0.0": "^6.14.0",
      "ajv@^8.0.0": "^8.18.0",
      "bcrypt": "^6.0.0",
      "fast-xml-parser": "^5.3.7",
      "lodash": "^4.17.23",
      "minimatch": "^10.2.2",
      "qs": "^6.15.0",
      "tar": "^7.5.9"
    }
  }
}
